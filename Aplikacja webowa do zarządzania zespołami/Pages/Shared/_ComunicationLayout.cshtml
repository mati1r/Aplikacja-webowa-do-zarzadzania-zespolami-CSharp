@{
    Layout = "_MasterLayout";
}
<div class="layout-format">
    <nav class="navbar navbar-expand navbar-dark bg-layout border-bottom" id="navbar">
        <div class="container-fluid justify-content-end">
            <div class="collapse navbar-collapse">
                <button class="btn" type="button" id="sidebarBtn">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <ul class="navbar-nav ms-auto mb-2 mb-md-0 p-2">
                    <li class="nav-item">
                        <a class="nav-link text-white me-3" asp-area="" asp-page="/Messages">Wiadomości</a>
                    </li>
                    @if (Model.data == "User")
                    {
                        <li class="nav-item">
                            <a class="nav-link text-white me-3" asp-area="" asp-page="/UserNotices">Ogłoszenia</a>
                        </li>
                    }else if(Model.data == "Owner")
                    {
                        <li class="nav-item">
                            <a class="nav-link text-white me-3" asp-area="" asp-page="/OwnerNotices">Ogłoszenia</a>
                        </li>
                    }
                </ul>
            </div>
        </div>
    </nav>

    <main class="d-flex flex-nowrap">
        <div class="d-flex flex-column flex-shrink-0 bg-layout text-white" id="sidebar" style="width: 280px;">
            <ul class="nav nav-pills flex-column mb-auto p-3">
                <li>
                    <a class="nav-link text-white" asp-area="" asp-page="/ActiveGroup">
                        <i class="bi bi-people"></i>
                        Grupy
                    </a>
                </li>
                <li class="nav-item">
                    @if (Model.data == "User")
                    {
                        <a class="nav-link text-white" asp-area="" asp-page="/UserTasks">
                            <i class="bi bi-check2-square"></i>
                            Zadania
                        </a>
                    }
                    else if (Model.data == "Owner")
                    {
                        <a class="nav-link text-white" asp-area="" asp-page="/OwnerTasks">
                            <i class="bi bi-check2-square"></i>
                            Zarządzaj zadaniami
                        </a>
                    }
                </li>
                <li>
                    <a class="nav-link active text-white" asp-area="" asp-page="/Messages">
                        <i class="bi bi-envelope"></i>
                        Komunikacja
                    </a>
                </li>
            </ul>
            <hr>
            <div>
                <a href="#" class="d-flex align-items-center text-white text-decoration-none p-3 ms-2" data-bs-toggle="dropdown" aria-expanded="false">
                    <strong style="font-size: 120%;">
                        <i class="bi bi-person-circle" style="font-size: 110%;"></i>
                        @(Model.username != null ? Model.username : "UserName")
                    </strong>
                </a>
                <ul class="dropdown-menu dropdown-menu-dark text-small shadow">
                    <li>
                        <a class="dropdown-item" asp-area="" asp-page="/UserProfile">
                            <i class="bi bi-file-person"></i>
                            Profil użytkownika
                        </a>
                    </li>
                    <li><hr class="dropdown-divider"></li>
                    <li>
                        <a class="dropdown-item" asp-area="" asp-page="/Logout">
                            <i class="bi bi-door-open"></i>
                            Wyloguj
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <div class="container-fluid p-0">
            @RenderBody()
        </div>
    </main>
</div>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
<script src="~/lib/DataTables/datatables.min.js"></script>
<script src="~/js/selectize.min.js"></script>

<!-- Zmiana klasy dla aktualnie wybranego elementu/strony -->
<script>
    $(document).ready(function () {
        $('#navbar .nav-link').each(function () {
            if ($(this).attr('href').toLowerCase() === location.pathname.toLowerCase()) {
                $(this).addClass('active');
            } else {
                $(this).removeClass('active');
            }
        });
    });
</script>

@await RenderSectionAsync("Scripts", required: false)