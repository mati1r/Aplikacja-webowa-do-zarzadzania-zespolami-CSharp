@{
    Layout = "_MasterLayout";
}
<div class="layout-format">
    <nav class="navbar navbar-expand navbar-dark bg-layout p-3 border-bottom" id="navbar">
        <div class="container-fluid justify-content-end">
            <div class="collapse navbar-collapse">
                <h4>NAVBAR</h4>
                <ul class="navbar-nav ms-auto mb-2 mb-md-0">
                    <li class="nav-item">
                        <a class="nav-link text-white me-3" asp-area="" asp-page="/ActiveGroup">Aktywna grupa</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white me-3" asp-area="" asp-page="/JoinGroup">Dołącz do grupy</a>
                    </li>
                    @if(Model.data == "Owner")
                    {
                        <li class="nav-item">
                            <a class="nav-link text-white me-3" asp-area="" asp-page="/EditGroup">Zarządzaj aktywną grupą</a>
                        </li>
                    }
                </ul>
            </div>
        </div>
    </nav>

    <main class="d-flex flex-nowrap">
        <div class="d-flex flex-column flex-shrink-0 p-3 bg-layout text-white" style="width: 280px;">
            <ul class="nav nav-pills flex-column mb-auto">
                <li>
                    <a class="nav-link active text-white" asp-area="" asp-page="/ActiveGroup">
                        Grupy
                    </a>
                </li>
                <li class="nav-item">
                    @if (Model.data == "User")
                    {
                        <a class="nav-link text-white" asp-area="" asp-page="/UserTasks">
                            <i class="bi bi-house"></i>
                            Zadania
                        </a>
                    }
                    else if (Model.data == "Owner")
                    {
                        <a class="nav-link text-white" asp-area="" asp-page="/OwnerTasks">
                            <i class="bi bi-house"></i>
                            Zarządzaj zadaniami
                        </a>
                    }
                </li>
                <li>
                    <a class="nav-link text-white" asp-area="" asp-page="/Messages">
                        Komunikacja
                    </a>
                </li>
            </ul>
            <hr>
            <div class="dropdown">
                <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                    <strong>
                        @(Model.username != null ? Model.username : "UserName")
                    </strong>
                </a>
                <ul class="dropdown-menu dropdown-menu-dark text-small shadow">
                    <li><a class="dropdown-item" asp-area="" asp-page="/UserProfile">Profil użytkownika</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" asp-area="" asp-page="/Logout">Wyloguj</a></li>
                </ul>
            </div>
        </div>

        <div class="container-fluid p-0">
            @RenderBody()
        </div>
    </main>
</div>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
<script src="~/lib/DataTables/datatables.min.js"></script>

<!-- Zmiana klasy dla aktualnie wybranego elementu/strony -->
<script>
    $(document).ready(function () {
        $('#navbar .nav-link').each(function () {
            if ($(this).attr('href').toLowerCase() === location.pathname.toLowerCase()) {
                $(this).addClass('active');
            } else {
                $(this).removeClass('active');
            }
        });
    });
</script>

@await RenderSectionAsync("Scripts", required: false)